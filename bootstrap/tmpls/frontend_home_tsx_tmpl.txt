import { api } from "../river.api.ts";
import type { RouteProps } from "../river.gen.ts";
import { useLoaderData } from "../river.utils.tsx";

export function Home(props: RouteProps<"/_index">) {
	const data = useLoaderData(props);

	return (
		<div id="home-wrapper">
			<p id="count">{data{{.Call}}}</p>

			<button
				id="increment-button"
				onClick={() => api.mutate({ pattern: "/increment-count" })}
			>
				count++
			</button>
		</div>
	);
}
